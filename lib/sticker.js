const Jsl_0xd12ae9=Jsl_0x2c5b;(function(_0x4ee03a,_0x1b707d){const _0x288317=Jsl_0x2c5b,_0x41cc43=_0x4ee03a();while(!![]){try{const _0x4a1e2d=-parseInt(_0x288317(0x1d6))/0x1*(parseInt(_0x288317(0x1da))/0x2)+parseInt(_0x288317(0x1d5))/0x3+-parseInt(_0x288317(0x1be))/0x4+parseInt(_0x288317(0x1cd))/0x5+-parseInt(_0x288317(0x1cb))/0x6*(parseInt(_0x288317(0x1b3))/0x7)+-parseInt(_0x288317(0x1b6))/0x8+parseInt(_0x288317(0x1d9))/0x9;if(_0x4a1e2d===_0x1b707d)break;else _0x41cc43['push'](_0x41cc43['shift']());}catch(_0x3b043b){_0x41cc43['push'](_0x41cc43['shift']());}}}(Jsl_0x21d5,0x45844));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require('crypto'),ff=require(Jsl_0xd12ae9(0x1c0)),webp=require('node-webpmux'),path=require(Jsl_0xd12ae9(0x1b7));async function imageToWebp(_0x49b4c5){const _0x2f5089=Jsl_0xd12ae9,_0x21eede=path[_0x2f5089(0x1c5)](tmpdir(),Crypto[_0x2f5089(0x1bd)](0x6)[_0x2f5089(0x1c7)](0x0,0x6)['toString'](0x24)+_0x2f5089(0x1d7)),_0x5720d2=path[_0x2f5089(0x1c5)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x2f5089(0x1c9)](0x24)+_0x2f5089(0x1b4));fs['writeFileSync'](_0x5720d2,_0x49b4c5),await new Promise((_0x402652,_0x1c63d1)=>{const _0x26dd65=_0x2f5089;ff(_0x5720d2)['on'](_0x26dd65(0x1d4),_0x1c63d1)['on']('end',()=>_0x402652(!![]))[_0x26dd65(0x1dc)]([_0x26dd65(0x1e2),'libwebp',_0x26dd65(0x1cf),_0x26dd65(0x1b9)])['toFormat'](_0x26dd65(0x1c1))['save'](_0x21eede);});const _0x505933=fs[_0x2f5089(0x1de)](_0x21eede);return fs[_0x2f5089(0x1c6)](_0x21eede),fs[_0x2f5089(0x1c6)](_0x5720d2),_0x505933;}function Jsl_0x21d5(){const _0x2fb4fc=['.webp','libwebp','13283262UaFHUT','6PTBNwc','load','addOutputOptions','length','readFileSync','-an','writeUIntLE','stringify','-vcodec','toFormat','packname','31927xsGpcR','.jpg','concat','1467456lDnQWp','path','https://github.com/Afx-Abu/Abu-MD','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','-preset','writeFileSync','exif','randomBytes','2268524GvJOyB','categories','fluent-ffmpeg','webp','end','utf-8','author','join','unlinkSync','readUIntLE','-vsync','toString','Image','642ezoZCu','save','1671760mGipkv','.mp4','-vf','from','00:00:05','00:00:00','default','error','538284mKtcMl','155456RbQuGE'];Jsl_0x21d5=function(){return _0x2fb4fc;};return Jsl_0x21d5();}function Jsl_0x2c5b(_0x26962b,_0x4d4a3c){const _0x21d5b9=Jsl_0x21d5();return Jsl_0x2c5b=function(_0x2c5b67,_0x3ad97c){_0x2c5b67=_0x2c5b67-0x1b2;let _0x5d7b10=_0x21d5b9[_0x2c5b67];return _0x5d7b10;},Jsl_0x2c5b(_0x26962b,_0x4d4a3c);}async function videoToWebp(_0x413f13){const _0x433d0b=Jsl_0xd12ae9,_0x1c257a=path[_0x433d0b(0x1c5)](tmpdir(),Crypto[_0x433d0b(0x1bd)](0x6)['readUIntLE'](0x0,0x6)[_0x433d0b(0x1c9)](0x24)+_0x433d0b(0x1d7)),_0x1c430d=path[_0x433d0b(0x1c5)](tmpdir(),Crypto[_0x433d0b(0x1bd)](0x6)[_0x433d0b(0x1c7)](0x0,0x6)['toString'](0x24)+_0x433d0b(0x1ce));fs[_0x433d0b(0x1bb)](_0x1c430d,_0x413f13),await new Promise((_0x153f5b,_0x359a43)=>{const _0x3f8d2f=_0x433d0b;ff(_0x1c430d)['on'](_0x3f8d2f(0x1d4),_0x359a43)['on'](_0x3f8d2f(0x1c2),()=>_0x153f5b(!![]))['addOutputOptions'](['-vcodec',_0x3f8d2f(0x1d8),_0x3f8d2f(0x1cf),_0x3f8d2f(0x1b9),'-loop','0','-ss',_0x3f8d2f(0x1d2),'-t',_0x3f8d2f(0x1d1),_0x3f8d2f(0x1ba),_0x3f8d2f(0x1d3),_0x3f8d2f(0x1df),_0x3f8d2f(0x1c8),'0'])[_0x3f8d2f(0x1e3)]('webp')[_0x3f8d2f(0x1cc)](_0x1c257a);});const _0x15da4b=fs['readFileSync'](_0x1c257a);return fs[_0x433d0b(0x1c6)](_0x1c257a),fs[_0x433d0b(0x1c6)](_0x1c430d),_0x15da4b;}async function writeExifImg(_0x4bd2dd,_0x42e210){const _0x4286c6=Jsl_0xd12ae9;let _0x4fbcad=await imageToWebp(_0x4bd2dd);const _0xafed71=path[_0x4286c6(0x1c5)](tmpdir(),Crypto[_0x4286c6(0x1bd)](0x6)[_0x4286c6(0x1c7)](0x0,0x6)[_0x4286c6(0x1c9)](0x24)+_0x4286c6(0x1d7)),_0x3df428=path[_0x4286c6(0x1c5)](tmpdir(),Crypto[_0x4286c6(0x1bd)](0x6)[_0x4286c6(0x1c7)](0x0,0x6)['toString'](0x24)+_0x4286c6(0x1d7));fs[_0x4286c6(0x1bb)](_0xafed71,_0x4fbcad);if(_0x42e210[_0x4286c6(0x1b2)]||_0x42e210['author']){const _0x7198d=new webp['Image'](),_0x3f834d={'sticker-pack-id':_0x4286c6(0x1b8),'sticker-pack-name':_0x42e210[_0x4286c6(0x1b2)],'sticker-pack-publisher':_0x42e210[_0x4286c6(0x1c4)],'emojis':_0x42e210[_0x4286c6(0x1bf)]?_0x42e210['categories']:['']},_0x1c4fd7=Buffer[_0x4286c6(0x1d0)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x282d61=Buffer[_0x4286c6(0x1d0)](JSON['stringify'](_0x3f834d),_0x4286c6(0x1c3)),_0x5a86d7=Buffer[_0x4286c6(0x1b5)]([_0x1c4fd7,_0x282d61]);return _0x5a86d7[_0x4286c6(0x1e0)](_0x282d61[_0x4286c6(0x1dd)],0xe,0x4),await _0x7198d[_0x4286c6(0x1db)](_0xafed71),fs[_0x4286c6(0x1c6)](_0xafed71),_0x7198d['exif']=_0x5a86d7,await _0x7198d[_0x4286c6(0x1cc)](_0x3df428),_0x3df428;}}async function writeExifVid(_0x4236bc,_0x2cb5d8){const _0x5d3e07=Jsl_0xd12ae9;let _0x241444=await videoToWebp(_0x4236bc);const _0x335c23=path[_0x5d3e07(0x1c5)](tmpdir(),Crypto['randomBytes'](0x6)[_0x5d3e07(0x1c7)](0x0,0x6)['toString'](0x24)+_0x5d3e07(0x1d7)),_0xa4810b=path[_0x5d3e07(0x1c5)](tmpdir(),Crypto['randomBytes'](0x6)[_0x5d3e07(0x1c7)](0x0,0x6)[_0x5d3e07(0x1c9)](0x24)+_0x5d3e07(0x1d7));fs['writeFileSync'](_0x335c23,_0x241444);if(_0x2cb5d8[_0x5d3e07(0x1b2)]||_0x2cb5d8[_0x5d3e07(0x1c4)]){const _0xfe9c0d=new webp[(_0x5d3e07(0x1ca))](),_0x5e5053={'sticker-pack-id':_0x5d3e07(0x1b8),'sticker-pack-name':_0x2cb5d8['packname'],'sticker-pack-publisher':_0x2cb5d8[_0x5d3e07(0x1c4)],'emojis':_0x2cb5d8['categories']?_0x2cb5d8[_0x5d3e07(0x1bf)]:['']},_0x1012d8=Buffer[_0x5d3e07(0x1d0)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x305945=Buffer[_0x5d3e07(0x1d0)](JSON[_0x5d3e07(0x1e1)](_0x5e5053),_0x5d3e07(0x1c3)),_0x1c11ef=Buffer[_0x5d3e07(0x1b5)]([_0x1012d8,_0x305945]);return _0x1c11ef[_0x5d3e07(0x1e0)](_0x305945[_0x5d3e07(0x1dd)],0xe,0x4),await _0xfe9c0d['load'](_0x335c23),fs[_0x5d3e07(0x1c6)](_0x335c23),_0xfe9c0d[_0x5d3e07(0x1bc)]=_0x1c11ef,await _0xfe9c0d[_0x5d3e07(0x1cc)](_0xa4810b),_0xa4810b;}}async function writeExifWebp(_0x5e8751,_0xee9e21){const _0x5e1318=Jsl_0xd12ae9,_0x2ba24b=path[_0x5e1318(0x1c5)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x5e1318(0x1d7)),_0x3811ec=path[_0x5e1318(0x1c5)](tmpdir(),Crypto['randomBytes'](0x6)[_0x5e1318(0x1c7)](0x0,0x6)['toString'](0x24)+_0x5e1318(0x1d7));fs[_0x5e1318(0x1bb)](_0x2ba24b,_0x5e8751);if(_0xee9e21[_0x5e1318(0x1b2)]||_0xee9e21['author']){const _0x3fc0ed=new webp[(_0x5e1318(0x1ca))](),_0x9cb0f9={'sticker-pack-id':_0x5e1318(0x1b8),'sticker-pack-name':_0xee9e21[_0x5e1318(0x1b2)],'sticker-pack-publisher':_0xee9e21[_0x5e1318(0x1c4)],'emojis':_0xee9e21[_0x5e1318(0x1bf)]?_0xee9e21[_0x5e1318(0x1bf)]:['']},_0x393a83=await Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x1df305=await Buffer[_0x5e1318(0x1d0)](JSON[_0x5e1318(0x1e1)](_0x9cb0f9),_0x5e1318(0x1c3)),_0x13a7f4=await Buffer[_0x5e1318(0x1b5)]([_0x393a83,_0x1df305]);return await _0x13a7f4[_0x5e1318(0x1e0)](_0x1df305[_0x5e1318(0x1dd)],0xe,0x4),await _0x3fc0ed[_0x5e1318(0x1db)](_0x2ba24b),fs[_0x5e1318(0x1c6)](_0x2ba24b),_0x3fc0ed[_0x5e1318(0x1bc)]=_0x13a7f4,await _0x3fc0ed['save'](_0x3811ec),_0x3811ec;}}module['exports']={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp};
