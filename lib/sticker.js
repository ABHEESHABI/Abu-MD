function _0x1ace(_0x4d88bd,_0x4d335d){const _0x37f4db=_0x37f4();return _0x1ace=function(_0x1ace17,_0x2df2da){_0x1ace17=_0x1ace17-0x147;let _0x319bd3=_0x37f4db[_0x1ace17];return _0x319bd3;},_0x1ace(_0x4d88bd,_0x4d335d);}const _0x3cc152=_0x1ace;(function(_0x376302,_0x3e02c2){const _0x514b20=_0x1ace,_0x15d397=_0x376302();while(!![]){try{const _0x5b8c5a=parseInt(_0x514b20(0x169))/0x1*(-parseInt(_0x514b20(0x14d))/0x2)+-parseInt(_0x514b20(0x159))/0x3+-parseInt(_0x514b20(0x16a))/0x4+-parseInt(_0x514b20(0x165))/0x5+-parseInt(_0x514b20(0x166))/0x6*(parseInt(_0x514b20(0x16e))/0x7)+parseInt(_0x514b20(0x171))/0x8*(-parseInt(_0x514b20(0x14b))/0x9)+-parseInt(_0x514b20(0x177))/0xa*(-parseInt(_0x514b20(0x168))/0xb);if(_0x5b8c5a===_0x3e02c2)break;else _0x15d397['push'](_0x15d397['shift']());}catch(_0x1999e3){_0x15d397['push'](_0x15d397['shift']());}}}(_0x37f4,0xee81c));function _0x37f4(){const _0x2c62b5=['12kTGwrz','-vcodec','68743785zOmQAI','1200842sscvNF','2226176rkfJLA','00:00:05','length','-preset','3563119ChVcVA','packname','author','6143560LKEnJr','stringify','webp','https://github.com/DikaArdnt/Hisoka-Morou','load','join','10WwYTim','categories','error','node-webpmux','data','Image','.webp','-ss','end','18dHsaIb','test','2xFZZCx','crypto','utf-8','writeFileSync','.jpg','save','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','addOutputOptions','from','readFileSync','-vsync','00:00:00','2603946IqjYGM','concat','unlinkSync','toString','readUIntLE','toFormat','exif','libwebp','randomBytes','.mp4','writeUIntLE','mimetype','466095rrtHow'];_0x37f4=function(){return _0x2c62b5;};return _0x37f4();}const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x3cc152(0x14e)),ff=require('fluent-ffmpeg'),webp=require(_0x3cc152(0x17a)),path=require('path');async function imageToWebp(_0x15d43d){const _0x96f1d6=_0x3cc152,_0x118cde=path[_0x96f1d6(0x176)](tmpdir(),Crypto[_0x96f1d6(0x161)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x96f1d6(0x148)),_0x2a28e2=path[_0x96f1d6(0x176)](tmpdir(),Crypto[_0x96f1d6(0x161)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x96f1d6(0x151));fs['writeFileSync'](_0x2a28e2,_0x15d43d),await new Promise((_0x3045aa,_0x1fa80e)=>{const _0x4a7935=_0x96f1d6;ff(_0x2a28e2)['on']('error',_0x1fa80e)['on']('end',()=>_0x3045aa(!![]))['addOutputOptions']([_0x4a7935(0x167),'libwebp','-vf',_0x4a7935(0x153)])[_0x4a7935(0x15e)](_0x4a7935(0x173))[_0x4a7935(0x152)](_0x118cde);});const _0x35e546=fs[_0x96f1d6(0x156)](_0x118cde);return fs[_0x96f1d6(0x15b)](_0x118cde),fs['unlinkSync'](_0x2a28e2),_0x35e546;}async function videoToWebp(_0x398c1f){const _0xc1dc24=_0x3cc152,_0x1bbe1f=path[_0xc1dc24(0x176)](tmpdir(),Crypto[_0xc1dc24(0x161)](0x6)[_0xc1dc24(0x15d)](0x0,0x6)[_0xc1dc24(0x15c)](0x24)+_0xc1dc24(0x148)),_0x45b1be=path['join'](tmpdir(),Crypto[_0xc1dc24(0x161)](0x6)[_0xc1dc24(0x15d)](0x0,0x6)['toString'](0x24)+_0xc1dc24(0x162));fs[_0xc1dc24(0x150)](_0x45b1be,_0x398c1f),await new Promise((_0x23e638,_0x113632)=>{const _0x4ea816=_0xc1dc24;ff(_0x45b1be)['on'](_0x4ea816(0x179),_0x113632)['on'](_0x4ea816(0x14a),()=>_0x23e638(!![]))[_0x4ea816(0x154)]([_0x4ea816(0x167),_0x4ea816(0x160),'-vf',_0x4ea816(0x153),'-loop','0',_0x4ea816(0x149),_0x4ea816(0x158),'-t',_0x4ea816(0x16b),_0x4ea816(0x16d),'default','-an',_0x4ea816(0x157),'0'])[_0x4ea816(0x15e)](_0x4ea816(0x173))['save'](_0x1bbe1f);});const _0x41193b=fs[_0xc1dc24(0x156)](_0x1bbe1f);return fs[_0xc1dc24(0x15b)](_0x1bbe1f),fs[_0xc1dc24(0x15b)](_0x45b1be),_0x41193b;}async function writeExifImg(_0x235de2,_0x577a86){const _0x4892c3=_0x3cc152;let _0x9904a9=await imageToWebp(_0x235de2);const _0x458a46=path[_0x4892c3(0x176)](tmpdir(),Crypto[_0x4892c3(0x161)](0x6)[_0x4892c3(0x15d)](0x0,0x6)[_0x4892c3(0x15c)](0x24)+_0x4892c3(0x148)),_0x3ba4bc=path[_0x4892c3(0x176)](tmpdir(),Crypto[_0x4892c3(0x161)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x4892c3(0x148));fs['writeFileSync'](_0x458a46,_0x9904a9);if(_0x577a86[_0x4892c3(0x16f)]||_0x577a86[_0x4892c3(0x170)]){const _0x2e72cc=new webp[(_0x4892c3(0x147))](),_0x29737c={'sticker-pack-id':_0x4892c3(0x174),'sticker-pack-name':_0x577a86[_0x4892c3(0x16f)],'sticker-pack-publisher':_0x577a86[_0x4892c3(0x170)],'emojis':_0x577a86['categories']?_0x577a86['categories']:['']},_0x2268ba=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x2188fe=Buffer[_0x4892c3(0x155)](JSON[_0x4892c3(0x172)](_0x29737c),_0x4892c3(0x14f)),_0x2b49d9=Buffer[_0x4892c3(0x15a)]([_0x2268ba,_0x2188fe]);return _0x2b49d9['writeUIntLE'](_0x2188fe[_0x4892c3(0x16c)],0xe,0x4),await _0x2e72cc[_0x4892c3(0x175)](_0x458a46),fs[_0x4892c3(0x15b)](_0x458a46),_0x2e72cc[_0x4892c3(0x15f)]=_0x2b49d9,await _0x2e72cc['save'](_0x3ba4bc),_0x3ba4bc;}}async function writeExifVid(_0x40f908,_0x70287){const _0x367b21=_0x3cc152;let _0x5e715c=await videoToWebp(_0x40f908);const _0x1c38a7=path['join'](tmpdir(),Crypto[_0x367b21(0x161)](0x6)[_0x367b21(0x15d)](0x0,0x6)[_0x367b21(0x15c)](0x24)+_0x367b21(0x148)),_0x4c7f98=path[_0x367b21(0x176)](tmpdir(),Crypto[_0x367b21(0x161)](0x6)[_0x367b21(0x15d)](0x0,0x6)[_0x367b21(0x15c)](0x24)+_0x367b21(0x148));fs[_0x367b21(0x150)](_0x1c38a7,_0x5e715c);if(_0x70287['packname']||_0x70287['author']){const _0xffd51c=new webp[(_0x367b21(0x147))](),_0x21d724={'sticker-pack-id':_0x367b21(0x174),'sticker-pack-name':_0x70287['packname'],'sticker-pack-publisher':_0x70287[_0x367b21(0x170)],'emojis':_0x70287[_0x367b21(0x178)]?_0x70287[_0x367b21(0x178)]:['']},_0x1f20fe=Buffer[_0x367b21(0x155)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x4b13be=Buffer['from'](JSON[_0x367b21(0x172)](_0x21d724),_0x367b21(0x14f)),_0x1cafb4=Buffer[_0x367b21(0x15a)]([_0x1f20fe,_0x4b13be]);return _0x1cafb4['writeUIntLE'](_0x4b13be[_0x367b21(0x16c)],0xe,0x4),await _0xffd51c['load'](_0x1c38a7),fs[_0x367b21(0x15b)](_0x1c38a7),_0xffd51c[_0x367b21(0x15f)]=_0x1cafb4,await _0xffd51c['save'](_0x4c7f98),_0x4c7f98;}}async function writeExif(_0x174afd,_0x4d16e3){const _0x3a9c12=_0x3cc152;let _0x1c519f=/webp/[_0x3a9c12(0x14c)](_0x174afd[_0x3a9c12(0x164)])?_0x174afd[_0x3a9c12(0x17b)]:/image/['test'](_0x174afd[_0x3a9c12(0x164)])?await imageToWebp(_0x174afd['data']):/video/[_0x3a9c12(0x14c)](_0x174afd[_0x3a9c12(0x164)])?await videoToWebp(_0x174afd['data']):'';const _0x2957cd=path['join'](tmpdir(),Crypto[_0x3a9c12(0x161)](0x6)[_0x3a9c12(0x15d)](0x0,0x6)[_0x3a9c12(0x15c)](0x24)+_0x3a9c12(0x148)),_0x39b6d4=path[_0x3a9c12(0x176)](tmpdir(),Crypto[_0x3a9c12(0x161)](0x6)['readUIntLE'](0x0,0x6)[_0x3a9c12(0x15c)](0x24)+_0x3a9c12(0x148));fs['writeFileSync'](_0x2957cd,_0x1c519f);if(_0x4d16e3[_0x3a9c12(0x16f)]||_0x4d16e3[_0x3a9c12(0x170)]){const _0x2346a5=new webp['Image'](),_0x1882e3={'sticker-pack-id':'https://github.com/DikaArdnt/Hisoka-Morou','sticker-pack-name':_0x4d16e3[_0x3a9c12(0x16f)],'sticker-pack-publisher':_0x4d16e3[_0x3a9c12(0x170)],'emojis':_0x4d16e3[_0x3a9c12(0x178)]?_0x4d16e3['categories']:['']},_0x2555f7=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x56d64d=Buffer[_0x3a9c12(0x155)](JSON['stringify'](_0x1882e3),_0x3a9c12(0x14f)),_0x3c398d=Buffer[_0x3a9c12(0x15a)]([_0x2555f7,_0x56d64d]);return _0x3c398d[_0x3a9c12(0x163)](_0x56d64d[_0x3a9c12(0x16c)],0xe,0x4),await _0x2346a5['load'](_0x2957cd),fs[_0x3a9c12(0x15b)](_0x2957cd),_0x2346a5[_0x3a9c12(0x15f)]=_0x3c398d,await _0x2346a5['save'](_0x39b6d4),_0x39b6d4;}}module['exports']={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};
