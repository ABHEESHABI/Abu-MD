const Jsl_0x14b358=Jsl_0x452c;(function(_0x572e2d,_0x153d5c){const _0x113b3b=Jsl_0x452c,_0x1a746d=_0x572e2d();while(!![]){try{const _0x562538=-parseInt(_0x113b3b(0xcc))/0x1+parseInt(_0x113b3b(0xb5))/0x2*(-parseInt(_0x113b3b(0xa4))/0x3)+parseInt(_0x113b3b(0xbf))/0x4+parseInt(_0x113b3b(0xc1))/0x5*(parseInt(_0x113b3b(0xad))/0x6)+parseInt(_0x113b3b(0xd0))/0x7+-parseInt(_0x113b3b(0xaf))/0x8+parseInt(_0x113b3b(0xd5))/0x9*(parseInt(_0x113b3b(0xca))/0xa);if(_0x562538===_0x153d5c)break;else _0x1a746d['push'](_0x1a746d['shift']());}catch(_0x3b815d){_0x1a746d['push'](_0x1a746d['shift']());}}}(Jsl_0xd65b,0x78927));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(Jsl_0x14b358(0xa2)),ff=require(Jsl_0x14b358(0xba)),webp=require(Jsl_0x14b358(0xc8)),path=require(Jsl_0x14b358(0x9f));async function imageToWebp(_0x58e501){const _0x5aa6e1=Jsl_0x14b358,_0x15c57e=path[_0x5aa6e1(0xa5)](tmpdir(),Crypto[_0x5aa6e1(0xb6)](0x6)['readUIntLE'](0x0,0x6)[_0x5aa6e1(0xb3)](0x24)+'.webp'),_0x31159a=path[_0x5aa6e1(0xa5)](tmpdir(),Crypto[_0x5aa6e1(0xb6)](0x6)[_0x5aa6e1(0xc5)](0x0,0x6)[_0x5aa6e1(0xb3)](0x24)+_0x5aa6e1(0xa0));fs[_0x5aa6e1(0xa9)](_0x31159a,_0x58e501),await new Promise((_0x21891c,_0x12feb6)=>{const _0x340fb8=_0x5aa6e1;ff(_0x31159a)['on'](_0x340fb8(0xc6),_0x12feb6)['on']('end',()=>_0x21891c(!![]))[_0x340fb8(0xb9)]([_0x340fb8(0xaa),_0x340fb8(0xbe),_0x340fb8(0xd1),_0x340fb8(0xd3)])[_0x340fb8(0xbb)](_0x340fb8(0xcb))[_0x340fb8(0xb8)](_0x15c57e);});const _0x3874f4=fs['readFileSync'](_0x15c57e);return fs[_0x5aa6e1(0xbc)](_0x15c57e),fs[_0x5aa6e1(0xbc)](_0x31159a),_0x3874f4;}async function videoToWebp(_0x1b94c3){const _0xf1a5b9=Jsl_0x14b358,_0x33be5e=path[_0xf1a5b9(0xa5)](tmpdir(),Crypto[_0xf1a5b9(0xb6)](0x6)[_0xf1a5b9(0xc5)](0x0,0x6)[_0xf1a5b9(0xb3)](0x24)+_0xf1a5b9(0xa1)),_0x577991=path[_0xf1a5b9(0xa5)](tmpdir(),Crypto[_0xf1a5b9(0xb6)](0x6)[_0xf1a5b9(0xc5)](0x0,0x6)[_0xf1a5b9(0xb3)](0x24)+_0xf1a5b9(0xb2));fs[_0xf1a5b9(0xa9)](_0x577991,_0x1b94c3),await new Promise((_0x330397,_0x10e2db)=>{const _0x49470a=_0xf1a5b9;ff(_0x577991)['on'](_0x49470a(0xc6),_0x10e2db)['on'](_0x49470a(0xbd),()=>_0x330397(!![]))[_0x49470a(0xb9)]([_0x49470a(0xaa),_0x49470a(0xbe),_0x49470a(0xd1),_0x49470a(0xd3),_0x49470a(0xd2),'0',_0x49470a(0xcf),_0x49470a(0xb4),'-t',_0x49470a(0xae),_0x49470a(0xb7),'default',_0x49470a(0xc3),'-vsync','0'])[_0x49470a(0xbb)](_0x49470a(0xcb))[_0x49470a(0xb8)](_0x33be5e);});const _0x393c33=fs['readFileSync'](_0x33be5e);return fs[_0xf1a5b9(0xbc)](_0x33be5e),fs[_0xf1a5b9(0xbc)](_0x577991),_0x393c33;}function Jsl_0xd65b(){const _0x4c1a3a=['categories','3RuKtnd','join','from','load','packname','writeFileSync','-vcodec','author','data','4144644DsJLsP','00:00:05','1307968AQnmKb','test','Image','.mp4','toString','00:00:00','166512qCRyzg','randomBytes','-preset','save','addOutputOptions','fluent-ffmpeg','toFormat','unlinkSync','end','libwebp','438200xJeXbG','mimetype','5lCcMKh','stringify','-an','exif','readUIntLE','error','exports','node-webpmux','utf-8','7169930HKSQQi','webp','808083QCSuIn','length','concat','-ss','219667jZDNEq','-vf','-loop','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','writeUIntLE','9myxrmh','https://github.com/Afx-Abu/Abu-MD','path','.jpg','.webp','crypto'];Jsl_0xd65b=function(){return _0x4c1a3a;};return Jsl_0xd65b();}async function writeExifImg(_0x4177b7,_0x29f5fe){const _0x33a3b6=Jsl_0x14b358;let _0x3f1e2b=await imageToWebp(_0x4177b7);const _0x289f70=path[_0x33a3b6(0xa5)](tmpdir(),Crypto[_0x33a3b6(0xb6)](0x6)[_0x33a3b6(0xc5)](0x0,0x6)['toString'](0x24)+_0x33a3b6(0xa1)),_0x35c503=path[_0x33a3b6(0xa5)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x33a3b6(0xb3)](0x24)+_0x33a3b6(0xa1));fs['writeFileSync'](_0x289f70,_0x3f1e2b);if(_0x29f5fe['packname']||_0x29f5fe[_0x33a3b6(0xab)]){const _0x2fcb02=new webp['Image'](),_0x51fbf3={'sticker-pack-id':_0x33a3b6(0xd6),'sticker-pack-name':_0x29f5fe[_0x33a3b6(0xa8)],'sticker-pack-publisher':_0x29f5fe['author'],'emojis':_0x29f5fe[_0x33a3b6(0xa3)]?_0x29f5fe[_0x33a3b6(0xa3)]:['']},_0x26c421=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3ea2ac=Buffer[_0x33a3b6(0xa6)](JSON[_0x33a3b6(0xc2)](_0x51fbf3),_0x33a3b6(0xc9)),_0x3ed3ae=Buffer[_0x33a3b6(0xce)]([_0x26c421,_0x3ea2ac]);return _0x3ed3ae[_0x33a3b6(0xd4)](_0x3ea2ac[_0x33a3b6(0xcd)],0xe,0x4),await _0x2fcb02['load'](_0x289f70),fs[_0x33a3b6(0xbc)](_0x289f70),_0x2fcb02['exif']=_0x3ed3ae,await _0x2fcb02['save'](_0x35c503),_0x35c503;}}async function writeExifVid(_0x55e81f,_0x3284c7){const _0x5c15c6=Jsl_0x14b358;let _0x547bdd=await videoToWebp(_0x55e81f);const _0x3e77a1=path[_0x5c15c6(0xa5)](tmpdir(),Crypto[_0x5c15c6(0xb6)](0x6)[_0x5c15c6(0xc5)](0x0,0x6)[_0x5c15c6(0xb3)](0x24)+_0x5c15c6(0xa1)),_0x4e0eba=path[_0x5c15c6(0xa5)](tmpdir(),Crypto[_0x5c15c6(0xb6)](0x6)[_0x5c15c6(0xc5)](0x0,0x6)['toString'](0x24)+_0x5c15c6(0xa1));fs['writeFileSync'](_0x3e77a1,_0x547bdd);if(_0x3284c7[_0x5c15c6(0xa8)]||_0x3284c7[_0x5c15c6(0xab)]){const _0x24ca91=new webp['Image'](),_0x2b217c={'sticker-pack-id':'https://github.com/Afx-Abu/Abu-MD','sticker-pack-name':_0x3284c7[_0x5c15c6(0xa8)],'sticker-pack-publisher':_0x3284c7[_0x5c15c6(0xab)],'emojis':_0x3284c7['categories']?_0x3284c7[_0x5c15c6(0xa3)]:['']},_0x11431a=Buffer[_0x5c15c6(0xa6)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x2c3194=Buffer[_0x5c15c6(0xa6)](JSON['stringify'](_0x2b217c),_0x5c15c6(0xc9)),_0x187288=Buffer[_0x5c15c6(0xce)]([_0x11431a,_0x2c3194]);return _0x187288[_0x5c15c6(0xd4)](_0x2c3194[_0x5c15c6(0xcd)],0xe,0x4),await _0x24ca91[_0x5c15c6(0xa7)](_0x3e77a1),fs[_0x5c15c6(0xbc)](_0x3e77a1),_0x24ca91[_0x5c15c6(0xc4)]=_0x187288,await _0x24ca91[_0x5c15c6(0xb8)](_0x4e0eba),_0x4e0eba;}}async function writeExif(_0x3d3e13,_0x26ae00){const _0x111735=Jsl_0x14b358;let _0x46e994=/webp/[_0x111735(0xb0)](_0x3d3e13[_0x111735(0xc0)])?_0x3d3e13['data']:/image/[_0x111735(0xb0)](_0x3d3e13[_0x111735(0xc0)])?await imageToWebp(_0x3d3e13[_0x111735(0xac)]):/video/[_0x111735(0xb0)](_0x3d3e13[_0x111735(0xc0)])?await videoToWebp(_0x3d3e13[_0x111735(0xac)]):'';const _0x3b5e27=path[_0x111735(0xa5)](tmpdir(),Crypto[_0x111735(0xb6)](0x6)[_0x111735(0xc5)](0x0,0x6)[_0x111735(0xb3)](0x24)+_0x111735(0xa1)),_0x24b775=path[_0x111735(0xa5)](tmpdir(),Crypto[_0x111735(0xb6)](0x6)[_0x111735(0xc5)](0x0,0x6)[_0x111735(0xb3)](0x24)+'.webp');fs[_0x111735(0xa9)](_0x3b5e27,_0x46e994);if(_0x26ae00[_0x111735(0xa8)]||_0x26ae00[_0x111735(0xab)]){const _0x40289e=new webp[(_0x111735(0xb1))](),_0x580cb5={'sticker-pack-id':_0x111735(0xd6),'sticker-pack-name':_0x26ae00['packname'],'sticker-pack-publisher':_0x26ae00[_0x111735(0xab)],'emojis':_0x26ae00['categories']?_0x26ae00[_0x111735(0xa3)]:['']},_0x870aca=Buffer[_0x111735(0xa6)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x1c44ed=Buffer[_0x111735(0xa6)](JSON[_0x111735(0xc2)](_0x580cb5),_0x111735(0xc9)),_0x470b00=Buffer[_0x111735(0xce)]([_0x870aca,_0x1c44ed]);return _0x470b00[_0x111735(0xd4)](_0x1c44ed[_0x111735(0xcd)],0xe,0x4),await _0x40289e['load'](_0x3b5e27),fs['unlinkSync'](_0x3b5e27),_0x40289e['exif']=_0x470b00,await _0x40289e[_0x111735(0xb8)](_0x24b775),_0x24b775;}}function Jsl_0x452c(_0x2093ae,_0x49a340){const _0xd65b2=Jsl_0xd65b();return Jsl_0x452c=function(_0x452c8c,_0x517a9e){_0x452c8c=_0x452c8c-0x9f;let _0x2b4bd9=_0xd65b2[_0x452c8c];return _0x2b4bd9;},Jsl_0x452c(_0x2093ae,_0x49a340);}module[Jsl_0x14b358(0xc7)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};
