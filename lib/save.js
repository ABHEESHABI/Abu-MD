const Jsl_0x431da8=Jsl_0x226a;function Jsl_0x3b40(){const _0x2fc55a=['chats.upsert','demote','isAdmin','chats.delete','12KJkPaC','20iWltbr','key','message-receipt.update','parse','slice','append','contacts','got\x20update\x20for\x20non-existant\x20group\x20metadata','fetchMessagesFromWA','4827907aldmhq','fromObject','undefined','profilePictureUrl','deleteById','2759262AQlXVN','chats.set','all','19234260lzwFgc','messageTimestamp','array','update','12RyemEc','values','messageInfo','contacts.update','emit','exports','loadMessageFromWA','pin','upsert','get','imgUrl','before','after','includes','unreadCount','@adiwajshing/baileys/lib/Store/make-ordered-dictionary','messages.set','presence.update','messages','conversationTimestamp','325929XMXKfj','has','stringify','utf-8','archive','toString','WebMessageInfo','promote','participants','groups.update','default','findIndex','224748OwfVHe','debug','groupMetadata','208PisuSm','remove','getBroadcastListInfo','673977gDFJoM','chats','673590KwFdtZ','synced\x20contacts','keys','got\x20update\x20for\x20non-existant\x20chat','remoteJid','assign','@adiwajshing/keyed-db','add','length','messages.delete','prepend','group-participants.update','map','delete','synced\x20chats','@adiwajshing/baileys','6mUELLK','notify','localeCompare','filter','reading\x20from\x20file','messages.upsert'];Jsl_0x3b40=function(){return _0x2fc55a;};return Jsl_0x3b40();}(function(_0x27830e,_0x332e98){const _0x1eb552=Jsl_0x226a,_0x4975ea=_0x27830e();while(!![]){try{const _0x4c80f2=-parseInt(_0x1eb552(0xd5))/0x1+-parseInt(_0x1eb552(0x107))/0x2*(parseInt(_0x1eb552(0x11b))/0x3)+parseInt(_0x1eb552(0xf1))/0x4*(-parseInt(_0x1eb552(0xd7))/0x5)+-parseInt(_0x1eb552(0xe7))/0x6*(-parseInt(_0x1eb552(0xfb))/0x7)+parseInt(_0x1eb552(0xd2))/0x8*(-parseInt(_0x1eb552(0xcf))/0x9)+-parseInt(_0x1eb552(0xf2))/0xa*(-parseInt(_0x1eb552(0x100))/0xb)+parseInt(_0x1eb552(0x103))/0xc;if(_0x4c80f2===_0x332e98)break;else _0x4975ea['push'](_0x4975ea['shift']());}catch(_0x4c293c){_0x4975ea['push'](_0x4975ea['shift']());}}}(Jsl_0x3b40,0x65503));function Jsl_0x226a(_0x7e5c98,_0x1cd8ba){const _0x3b40ea=Jsl_0x3b40();return Jsl_0x226a=function(_0x226afb,_0x5ceb44){_0x226afb=_0x226afb-0xc6;let _0x111d4e=_0x3b40ea[_0x226afb];return _0x111d4e;},Jsl_0x226a(_0x7e5c98,_0x1cd8ba);}const {proto,DEFAULT_CONNECTION_CONFIG,toNumber,updateMessageWithReceipt,jidNormalizedUser}=require(Jsl_0x431da8(0xe6)),make_ordered_dictionary_1=require(Jsl_0x431da8(0x116)),waChatKey=_0x71b31d=>({'key':_0x16e32e=>(_0x71b31d?_0x16e32e[Jsl_0x431da8(0x10e)]?'1':'0':'')+(_0x16e32e[Jsl_0x431da8(0xc7)]?'0':'1')+(_0x16e32e[Jsl_0x431da8(0x11a)]?_0x16e32e[Jsl_0x431da8(0x11a)][Jsl_0x431da8(0xc8)](0x10)['padStart'](0x8,'0'):'')+_0x16e32e['id'],'compare':(_0x43d53a,_0x19cf3a)=>_0x19cf3a[Jsl_0x431da8(0xe9)](_0x43d53a)}),waMessageID=_0x43be5b=>_0x43be5b[Jsl_0x431da8(0xf3)]['id'],makeMessagesDictionary=()=>make_ordered_dictionary_1[Jsl_0x431da8(0xcd)](waMessageID),logger=DEFAULT_CONNECTION_CONFIG['logger']['child']({}),chatKey=waChatKey(!![]),KeyedDB=require(Jsl_0x431da8(0xdd))['default'];function bind(_0x5df799){const _0x537171=Jsl_0x431da8,_0x3b7347=new KeyedDB(chatKey,_0x170299=>_0x170299['id']),_0x2bebee={},_0x4efd02={},_0x1fc14d={},_0xd03378={},_0x5cf9d5={'connection':'close'},_0x1992ee=_0xe53a57=>{return!_0x2bebee[_0xe53a57]&&(_0x2bebee[_0xe53a57]=makeMessagesDictionary()),_0x2bebee[_0xe53a57];},_0x816399=_0x249ea3=>{const _0x154987=Jsl_0x226a,_0x1ef477=new Set(Object[_0x154987(0xd9)](_0x4efd02));for(const _0x581d01 of _0x249ea3){_0x1ef477[_0x154987(0xe4)](_0x581d01['id']),_0x4efd02[_0x581d01['id']]=Object[_0x154987(0xdc)](_0x4efd02[_0x581d01['id']]||{},_0x581d01);}return _0x1ef477;};_0x5df799['ev']['on']('connection.update',_0x543062=>{Object['assign'](_0x5cf9d5,_0x543062);}),_0x5df799['ev']['on'](_0x537171(0x101),({chats:_0x1a0ae8,isLatest:_0x5d4f54})=>{const _0xfb1da8=_0x537171,_0x30c88f=_0x3b7347['insertIfAbsent'](..._0x1a0ae8)[_0xfb1da8(0xdf)];logger['debug']({'chatsAdded':_0x30c88f},_0xfb1da8(0xe5));}),_0x5df799['ev']['on']('contacts.set',({contacts:_0x4f1b8a})=>{const _0x51bd0d=_0x537171,_0x58b285=_0x816399(_0x4f1b8a);for(const _0x32f247 of _0x58b285){delete _0x4efd02[_0x32f247];}logger[_0x51bd0d(0xd0)]({'deletedContacts':_0x58b285['size'],'newContacts':_0x4f1b8a},_0x51bd0d(0xd8));}),_0x5df799['ev']['on'](_0x537171(0x117),({messages:_0x59902a,isLatest:_0x2d3687})=>{const _0x306c3c=_0x537171;if(_0x2d3687)for(const _0x325a1e in _0x2bebee){delete _0x2bebee[_0x325a1e];}for(const _0x3fb923 of _0x59902a){const _0x46f784=_0x3fb923[_0x306c3c(0xf3)][_0x306c3c(0xdb)],_0x5b877f=_0x1992ee(_0x46f784);_0x5b877f['upsert'](_0x3fb923,_0x306c3c(0xe1));}logger[_0x306c3c(0xd0)]({'messages':_0x59902a[_0x306c3c(0xdf)]},'synced\x20messages');}),_0x5df799['ev']['on'](_0x537171(0x10a),_0x3d27da=>{const _0x42f230=_0x537171;try{for(const _0x5fd392 of _0x3d27da){Object[_0x42f230(0xdc)](_0x4efd02[_0x5fd392['id']],_0x5fd392);}}catch{}}),_0x5df799['ev']['on'](_0x537171(0xed),_0x2d04d0=>{try{_0x3b7347['upsert'](..._0x2d04d0);}catch{}}),_0x5df799['ev']['on'](_0x537171(0xe0),_0x249687=>{const _0x557efd=_0x537171;if(_0x557efd(0x102)in _0x249687){const _0x105a4a=_0x2bebee[_0x249687['jid']];_0x105a4a===null||_0x105a4a===void 0x0?void 0x0:_0x105a4a['clear']();}else{const _0x145e0d=_0x249687[_0x557efd(0xd9)][0x0]['remoteJid'],_0x6167e8=_0x2bebee[_0x145e0d];if(_0x6167e8){const _0x1d95ee=new Set(_0x249687['keys'][_0x557efd(0xe3)](_0x20a295=>_0x20a295['id']));_0x6167e8['filter'](_0x43331a=>!_0x1d95ee[_0x557efd(0x11c)](_0x43331a[_0x557efd(0xf3)]['id']));}}}),_0x5df799['ev']['on'](_0x537171(0xf0),_0x4654a0=>{const _0x47be5a=_0x537171;for(const _0x31c869 of _0x4654a0){_0x3b7347[_0x47be5a(0xff)](_0x31c869);}}),_0x5df799['ev']['on']('chats.update',_0x270115=>{const _0x171d5f=_0x537171;for(let _0x3d99fc of _0x270115){const _0x578e33=_0x3b7347[_0x171d5f(0x106)](_0x3d99fc['id'],_0x366cb5=>{const _0x35a3f7=_0x171d5f;_0x3d99fc[_0x35a3f7(0x115)]>0x0&&(_0x3d99fc={..._0x3d99fc},_0x3d99fc[_0x35a3f7(0x115)]=_0x366cb5['unreadCount']+_0x3d99fc[_0x35a3f7(0x115)]),Object[_0x35a3f7(0xdc)](_0x366cb5,_0x3d99fc);});!_0x578e33&&logger[_0x171d5f(0xd0)]({'update':_0x3d99fc},_0x171d5f(0xda));}}),_0x5df799['ev']['on'](_0x537171(0x118),({id:_0x338ff4,presences:_0xfcf8f8})=>{_0xd03378[_0x338ff4]=_0xd03378[_0x338ff4]||{},Object['assign'](_0xd03378[_0x338ff4],_0xfcf8f8);}),_0x5df799['ev']['on'](_0x537171(0xec),({messages:_0x4fadff,type:_0x6b153a})=>{const _0x3c5b41=_0x537171;switch(_0x6b153a){case _0x3c5b41(0xf7):case _0x3c5b41(0xe8):for(const _0x1b3084 of _0x4fadff){const _0xb60700=jidNormalizedUser(_0x1b3084['key'][_0x3c5b41(0xdb)]),_0x133ccb=_0x1992ee(_0xb60700);_0x133ccb[_0x3c5b41(0x10f)](_0x1b3084,_0x3c5b41(0xf7)),_0x6b153a===_0x3c5b41(0xe8)&&(!_0x3b7347['get'](_0xb60700)&&_0x5df799['ev'][_0x3c5b41(0x10b)](_0x3c5b41(0xed),[{'id':_0xb60700,'conversationTimestamp':toNumber(_0x1b3084[_0x3c5b41(0x104)]),'unreadCount':0x1}]));}break;}}),_0x5df799['ev']['on'](_0x537171(0xcc),_0x261a79=>{const _0xb15c2e=_0x537171;for(const _0x421500 of _0x261a79){_0x1fc14d[_0x421500['id']]?Object[_0xb15c2e(0xdc)](_0x1fc14d[_0x421500['id']],_0x421500):logger[_0xb15c2e(0xd0)]({'update':_0x421500},_0xb15c2e(0xf9));}}),_0x5df799['ev']['on'](_0x537171(0xe2),({id:_0x4b4084,participants:_0x3e74a9,action:_0x452cac})=>{const _0x519679=_0x537171,_0x5b235d=_0x1fc14d[_0x4b4084];if(_0x5b235d)switch(_0x452cac){case _0x519679(0xde):_0x5b235d[_0x519679(0xcb)]['push'](..._0x3e74a9['map'](_0x1f09f8=>({'id':_0x1f09f8,'isAdmin':![],'isSuperAdmin':![]})));break;case _0x519679(0xee):case'promote':for(const _0xeea46e of _0x5b235d['participants']){_0x3e74a9[_0x519679(0x114)](_0xeea46e['id'])&&(_0xeea46e[_0x519679(0xef)]=_0x452cac===_0x519679(0xca));}break;case _0x519679(0xd3):_0x5b235d[_0x519679(0xcb)]=_0x5b235d[_0x519679(0xcb)][_0x519679(0xea)](_0x29a9a0=>!_0x3e74a9[_0x519679(0x114)](_0x29a9a0['id']));break;}}),_0x5df799['ev']['on'](_0x537171(0xf4),_0x1a5f6a=>{const _0x271fca=_0x537171;for(const {key:_0x1e0fcf,receipt:_0x3aa3da}of _0x1a5f6a){const _0x3e0253=_0x2bebee[_0x1e0fcf['remoteJid']],_0x13eb88=_0x3e0253===null||_0x3e0253===void 0x0?void 0x0:_0x3e0253[_0x271fca(0x110)](_0x1e0fcf['id']);_0x13eb88&&updateMessageWithReceipt(_0x13eb88,_0x3aa3da);}});const _0x5157e8=()=>({'chats':_0x3b7347,'contacts':_0x4efd02,'messages':_0x2bebee}),_0xe9e2a5=_0x3d3af5=>{const _0x110d97=_0x537171;_0x3b7347[_0x110d97(0x10f)](..._0x3d3af5[_0x110d97(0xd6)]),_0x816399(Object[_0x110d97(0x108)](_0x3d3af5[_0x110d97(0xf8)]));for(const _0x32c550 in _0x3d3af5[_0x110d97(0x119)]){const _0xdaf4e0=_0x1992ee(_0x32c550);for(const _0x3581e0 of _0x3d3af5[_0x110d97(0x119)][_0x32c550]){_0xdaf4e0['upsert'](proto[_0x110d97(0xc9)][_0x110d97(0xfc)](_0x3581e0),_0x110d97(0xf7));}}};return{'chats':_0x3b7347,'contacts':_0x4efd02,'messages':_0x2bebee,'groupMetadata':_0x1fc14d,'state':_0x5cf9d5,'presences':_0xd03378,'bind':bind,'toJSON':_0x5157e8,'fromJSON':_0xe9e2a5,'writeToFile':_0x30e59a=>{const _0x2b935a=_0x537171,{writeFileSync:_0x2a552e}=require('fs');_0x2a552e(_0x30e59a,JSON[_0x2b935a(0x11d)](_0x5157e8()));},'readFromFile':_0x2f9d91=>{const _0x57c566=_0x537171,{readFileSync:_0x380edb,existsSync:_0x59e06c}=require('fs');if(_0x59e06c(_0x2f9d91)){logger[_0x57c566(0xd0)]({'path':_0x2f9d91},_0x57c566(0xeb));const _0x458829=_0x380edb(_0x2f9d91,{'encoding':_0x57c566(0xc6)}),_0x42fea4=JSON[_0x57c566(0xf5)](_0x458829);_0xe9e2a5(_0x42fea4);}}};}module[Jsl_0x431da8(0x10c)]={'bind':bind,'loadMessages':async(_0x3e712e,_0x343623,_0x3e86b9)=>{const _0x206c24=Jsl_0x431da8,_0x4a73ad=assertMessageList(_0x3e712e),_0x21d326=async(_0x5da2f7,_0x3e7675)=>{const _0xb905e3=await(conn===null||conn===void 0x0?void 0x0:conn['fetchMessagesFromWA'](_0x3e712e,_0x5da2f7,_0x3e7675));return _0xb905e3||[];},_0x1b28e5=!_0x3e86b9||_0x206c24(0x112)in _0x3e86b9?_0x206c24(0x112):_0x206c24(0x113),_0x4e2244=!!_0x3e86b9?_0x206c24(0x112)in _0x3e86b9?_0x3e86b9[_0x206c24(0x112)]:_0x3e86b9['after']:undefined,_0x411b63=_0x4e2244?_0x4a73ad[_0x206c24(0x110)](_0x4e2244['id']):undefined;let _0x547c62;if(_0x4a73ad&&_0x1b28e5===_0x206c24(0x112)&&(!_0x4e2244||_0x411b63)){if(_0x411b63){const _0x32a41f=_0x4a73ad[_0x206c24(0x105)][_0x206c24(0xce)](_0x4a564d=>_0x4a564d[_0x206c24(0xf3)]['id']===_0x4e2244['id']);_0x547c62=_0x4a73ad[_0x206c24(0x105)][_0x206c24(0xf6)](0x0,_0x32a41f);}else _0x547c62=_0x4a73ad[_0x206c24(0x105)];const _0x3007c0=_0x343623-_0x547c62[_0x206c24(0xdf)];if(_0x3007c0<0x0)_0x547c62=_0x547c62[_0x206c24(0xf6)](-_0x343623);else{if(_0x3007c0>0x0){const [_0x428665]=_0x547c62,_0x3d58aa={'before':(_0x428665===null||_0x428665===void 0x0?void 0x0:_0x428665[_0x206c24(0xf3)])||_0x4e2244},_0x39039f=await _0x21d326(_0x3007c0,_0x3d58aa);for(let _0x4fcb1d=_0x39039f[_0x206c24(0xdf)]-0x1;_0x4fcb1d>=0x0;_0x4fcb1d--){_0x4a73ad[_0x206c24(0x10f)](_0x39039f[_0x4fcb1d],_0x206c24(0xe1));}_0x547c62['splice'](0x0,0x0,..._0x39039f);}}}else _0x547c62=await _0x21d326(_0x343623,_0x3e86b9);return _0x547c62;},'loadMessage':async(_0x18830f,_0x416e83)=>{const _0x13cdc5=Jsl_0x431da8;var _0x3e97f1;let _0x40eae0=(_0x3e97f1=messages[_0x18830f])===null||_0x3e97f1===void 0x0?void 0x0:_0x3e97f1[_0x13cdc5(0x110)](_0x416e83);return!_0x40eae0&&(_0x40eae0=await(conn===null||conn===void 0x0?void 0x0:conn[_0x13cdc5(0x10d)](_0x18830f,_0x416e83))),_0x40eae0;},'mostRecentMessage':async _0x4699c9=>{const _0x44c1f8=Jsl_0x431da8;var _0x22d8dc;let _0x33c627=(_0x22d8dc=messages[_0x4699c9])===null||_0x22d8dc===void 0x0?void 0x0:_0x22d8dc[_0x44c1f8(0x105)][_0x44c1f8(0xf6)](-0x1)[0x0];if(!_0x33c627){const [_0x5e4b87]=await(conn===null||conn===void 0x0?void 0x0:conn[_0x44c1f8(0xfa)](_0x4699c9,0x1,undefined));_0x33c627=_0x5e4b87;}return _0x33c627;},'fetchImageUrl':async _0x28278b=>{const _0x4ba881=Jsl_0x431da8,_0x358a0b=contacts[_0x28278b];if(!_0x358a0b)return conn===null||conn===void 0x0?void 0x0:conn[_0x4ba881(0xfe)](_0x28278b);return typeof _0x358a0b[_0x4ba881(0x111)]===_0x4ba881(0xfd)&&(_0x358a0b['imgUrl']=await(conn===null||conn===void 0x0?void 0x0:conn['profilePictureUrl'](_0x28278b))),_0x358a0b['imgUrl'];},'fetchGroupMetadata':async _0x3c4e37=>{const _0x30e0b3=Jsl_0x431da8;return!groupMetadata[_0x3c4e37]&&(groupMetadata[_0x3c4e37]=await(conn===null||conn===void 0x0?void 0x0:conn[_0x30e0b3(0xd1)](_0x3c4e37))),groupMetadata[_0x3c4e37];},'fetchBroadcastListInfo':async _0x5523e5=>{const _0x4a8084=Jsl_0x431da8;return!groupMetadata[_0x5523e5]&&(groupMetadata[_0x5523e5]=await(conn===null||conn===void 0x0?void 0x0:conn[_0x4a8084(0xd4)](_0x5523e5))),groupMetadata[_0x5523e5];},'fetchMessageReceipts':async({remoteJid:_0x1da15e,id:_0x1d0ffe})=>{const _0x2294b0=Jsl_0x431da8,_0x2603c3=messages[_0x1da15e],_0x4dbb0a=_0x2603c3===null||_0x2603c3===void 0x0?void 0x0:_0x2603c3[_0x2294b0(0x110)](_0x1d0ffe);let _0x22d81a=_0x4dbb0a['userReceipt'];return!_0x22d81a&&(_0x22d81a=await(conn===null||conn===void 0x0?void 0x0:conn[_0x2294b0(0x109)](_0x1da15e,_0x1d0ffe)),_0x4dbb0a&&(_0x4dbb0a['userReceipt']=_0x22d81a)),_0x22d81a;}};
