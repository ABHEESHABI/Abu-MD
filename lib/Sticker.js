const _0xd8d34f=_0x5c63;(function(_0x40aac9,_0x542d6d){const _0x3f3a25=_0x5c63,_0x444fd3=_0x40aac9();while(!![]){try{const _0x51203b=-parseInt(_0x3f3a25(0xcf))/0x1*(-parseInt(_0x3f3a25(0xaa))/0x2)+parseInt(_0x3f3a25(0xb8))/0x3+-parseInt(_0x3f3a25(0xc3))/0x4*(-parseInt(_0x3f3a25(0xc2))/0x5)+parseInt(_0x3f3a25(0xc1))/0x6*(parseInt(_0x3f3a25(0xca))/0x7)+-parseInt(_0x3f3a25(0xcc))/0x8*(parseInt(_0x3f3a25(0xb0))/0x9)+-parseInt(_0x3f3a25(0xb3))/0xa+-parseInt(_0x3f3a25(0xd2))/0xb;if(_0x51203b===_0x542d6d)break;else _0x444fd3['push'](_0x444fd3['shift']());}catch(_0x257814){_0x444fd3['push'](_0x444fd3['shift']());}}}(_0x6039,0xf259e));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0xd8d34f(0xcd)),ff=require(_0xd8d34f(0xad)),webp=require('node-webpmux'),path=require(_0xd8d34f(0xbf));async function imageToWebp(_0x5430b8){const _0x1a2729=_0xd8d34f,_0x47a102=path[_0x1a2729(0xc5)](__dirname,_0x1a2729(0xb4)+Crypto[_0x1a2729(0xc8)](0x6)['readUIntLE'](0x0,0x6)[_0x1a2729(0xc9)](0x24)+_0x1a2729(0xba)),_0x2a8e59=path[_0x1a2729(0xc5)](__dirname,_0x1a2729(0xb4)+Crypto[_0x1a2729(0xc8)](0x6)[_0x1a2729(0xbd)](0x0,0x6)[_0x1a2729(0xc9)](0x24)+'.jpg');fs[_0x1a2729(0xa4)](_0x2a8e59,_0x5430b8),await new Promise((_0x4af936,_0x13b818)=>{const _0x5c696b=_0x1a2729;ff(_0x2a8e59)['on'](_0x5c696b(0xa6),_0x13b818)['on'](_0x5c696b(0xb2),()=>_0x4af936(!![]))[_0x5c696b(0xc0)]([_0x5c696b(0xac),_0x5c696b(0xd6),_0x5c696b(0xd3),_0x5c696b(0xa5)])[_0x5c696b(0xbb)](_0x5c696b(0xbc))['save'](_0x47a102);});const _0x59b1ef=fs['readFileSync'](_0x47a102);return fs[_0x1a2729(0xb9)](_0x47a102),fs['unlinkSync'](_0x2a8e59),_0x59b1ef;}function _0x5c63(_0x2a14c2,_0x28970f){const _0x6039a9=_0x6039();return _0x5c63=function(_0x5c6327,_0x4e7284){_0x5c6327=_0x5c6327-0xa4;let _0x46754c=_0x6039a9[_0x5c6327];return _0x46754c;},_0x5c63(_0x2a14c2,_0x28970f);}async function videoToWebp(_0x45b699){const _0x24ab46=_0xd8d34f,_0x5cd0c9=path[_0x24ab46(0xc5)](tmpdir(),Crypto[_0x24ab46(0xc8)](0x6)['readUIntLE'](0x0,0x6)[_0x24ab46(0xc9)](0x24)+_0x24ab46(0xba)),_0x370630=path['join'](tmpdir(),Crypto[_0x24ab46(0xc8)](0x6)[_0x24ab46(0xbd)](0x0,0x6)[_0x24ab46(0xc9)](0x24)+_0x24ab46(0xb7));fs[_0x24ab46(0xa4)](_0x370630,_0x45b699),await new Promise((_0x37c4cc,_0x1bd8d7)=>{const _0x199e4f=_0x24ab46;ff(_0x370630)['on'](_0x199e4f(0xa6),_0x1bd8d7)['on'](_0x199e4f(0xb2),()=>_0x37c4cc(!![]))[_0x199e4f(0xc0)](['-vcodec',_0x199e4f(0xd6),_0x199e4f(0xd3),'scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512'])[_0x199e4f(0xbb)](_0x199e4f(0xbc))[_0x199e4f(0xb1)](_0x5cd0c9);});const _0x4acd6b=fs[_0x24ab46(0xb6)](_0x5cd0c9);return fs[_0x24ab46(0xb9)](_0x5cd0c9),fs[_0x24ab46(0xb9)](_0x370630),_0x4acd6b;}function _0x6039(){const _0x193b44=['join','writeUIntLE','mimetype','randomBytes','toString','3017QMaNzZ','https://github.com/Afx-Abu/Abu_ser','8OBJnYQ','crypto','length','41wsVXSb','packname','utf-8','20356149NLiGuq','-vf','categories','data','libwebp','writeFileSync','scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512','error','stringify','author','test','67342ENgTcA','concat','-vcodec','fluent-ffmpeg','Image','exif','5941449bhJbXl','save','end','6042530ksNnTT','../temp/','exports','readFileSync','.mp4','5897994OJnXMH','unlinkSync','.webp','toFormat','webp','readUIntLE','https://AiDarkJsl.github.io','path','addOutputOptions','1518ZvJZAx','296405bWpKnE','44vatlwa','from'];_0x6039=function(){return _0x193b44;};return _0x6039();}async function writeExifImg(_0xb8d016,_0x82b071){const _0x5af9e1=_0xd8d34f;let _0x181ad9=await imageToWebp(_0xb8d016);const _0x3aa183=path['join'](tmpdir(),Crypto[_0x5af9e1(0xc8)](0x6)[_0x5af9e1(0xbd)](0x0,0x6)['toString'](0x24)+_0x5af9e1(0xba)),_0x1a2938=path['join'](tmpdir(),Crypto[_0x5af9e1(0xc8)](0x6)['readUIntLE'](0x0,0x6)[_0x5af9e1(0xc9)](0x24)+_0x5af9e1(0xba));fs[_0x5af9e1(0xa4)](_0x3aa183,_0x181ad9);if(_0x82b071[_0x5af9e1(0xd0)]||_0x82b071[_0x5af9e1(0xa8)]){const _0x26d114=new webp[(_0x5af9e1(0xae))](),_0x1d8d94={'sticker-pack-id':_0x5af9e1(0xbe),'sticker-pack-name':_0x82b071[_0x5af9e1(0xd0)],'sticker-pack-publisher':_0x82b071[_0x5af9e1(0xa8)],'emojis':_0x82b071[_0x5af9e1(0xd4)]?_0x82b071['categories']:['']},_0x5d23f9=Buffer[_0x5af9e1(0xc4)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x569f97=Buffer['from'](JSON[_0x5af9e1(0xa7)](_0x1d8d94),'utf-8'),_0xedd93b=Buffer['concat']([_0x5d23f9,_0x569f97]);return _0xedd93b[_0x5af9e1(0xc6)](_0x569f97[_0x5af9e1(0xce)],0xe,0x4),await _0x26d114['load'](_0x3aa183),fs['unlinkSync'](_0x3aa183),_0x26d114[_0x5af9e1(0xaf)]=_0xedd93b,await _0x26d114[_0x5af9e1(0xb1)](_0x1a2938),_0x1a2938;}}async function writeExifVid(_0x1586da,_0xbc7f4e){const _0x516f1a=_0xd8d34f;let _0x3de639=await videoToWebp(_0x1586da);const _0x56008a=path[_0x516f1a(0xc5)](tmpdir(),Crypto[_0x516f1a(0xc8)](0x6)[_0x516f1a(0xbd)](0x0,0x6)[_0x516f1a(0xc9)](0x24)+'.webp'),_0x13737c=path[_0x516f1a(0xc5)](tmpdir(),Crypto[_0x516f1a(0xc8)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+'.webp');fs[_0x516f1a(0xa4)](_0x56008a,_0x3de639);if(_0xbc7f4e['packname']||_0xbc7f4e[_0x516f1a(0xa8)]){const _0x4eb5f0=new webp['Image'](),_0x5d4347={'sticker-pack-id':'https://AiDarkJsl.github.io','sticker-pack-name':_0xbc7f4e['packname'],'sticker-pack-publisher':_0xbc7f4e[_0x516f1a(0xa8)],'emojis':_0xbc7f4e[_0x516f1a(0xd4)]?_0xbc7f4e[_0x516f1a(0xd4)]:['']},_0x4d77d7=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3ad7d3=Buffer[_0x516f1a(0xc4)](JSON[_0x516f1a(0xa7)](_0x5d4347),_0x516f1a(0xd1)),_0xc67a0d=Buffer['concat']([_0x4d77d7,_0x3ad7d3]);return _0xc67a0d[_0x516f1a(0xc6)](_0x3ad7d3[_0x516f1a(0xce)],0xe,0x4),await _0x4eb5f0['load'](_0x56008a),fs[_0x516f1a(0xb9)](_0x56008a),_0x4eb5f0[_0x516f1a(0xaf)]=_0xc67a0d,await _0x4eb5f0[_0x516f1a(0xb1)](_0x13737c),_0x13737c;}}async function writeExif(_0x51a124,_0x5f4922){const _0x1564c1=_0xd8d34f;let _0x176386=/webp/['test'](_0x51a124[_0x1564c1(0xc7)])?_0x51a124[_0x1564c1(0xd5)]:/image/[_0x1564c1(0xa9)](_0x51a124[_0x1564c1(0xc7)])?await imageToWebp(_0x51a124[_0x1564c1(0xd5)]):/video/[_0x1564c1(0xa9)](_0x51a124['mimetype'])?await videoToWebp(_0x51a124['data']):'';const _0x302220=path[_0x1564c1(0xc5)](tmpdir(),Crypto['randomBytes'](0x6)[_0x1564c1(0xbd)](0x0,0x6)[_0x1564c1(0xc9)](0x24)+'.webp'),_0x337457=path['join'](tmpdir(),Crypto['randomBytes'](0x6)[_0x1564c1(0xbd)](0x0,0x6)['toString'](0x24)+_0x1564c1(0xba));fs[_0x1564c1(0xa4)](_0x302220,_0x176386);if(_0x5f4922[_0x1564c1(0xd0)]||_0x5f4922[_0x1564c1(0xa8)]){const _0x68335d=new webp[(_0x1564c1(0xae))](),_0x1c3716={'sticker-pack-id':_0x1564c1(0xcb),'sticker-pack-name':_0x5f4922['packname'],'sticker-pack-publisher':_0x5f4922[_0x1564c1(0xa8)],'emojis':_0x5f4922[_0x1564c1(0xd4)]?_0x5f4922['categories']:['']},_0x24e494=Buffer[_0x1564c1(0xc4)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x160343=Buffer['from'](JSON['stringify'](_0x1c3716),_0x1564c1(0xd1)),_0x5084f1=Buffer[_0x1564c1(0xab)]([_0x24e494,_0x160343]);return _0x5084f1['writeUIntLE'](_0x160343[_0x1564c1(0xce)],0xe,0x4),await _0x68335d['load'](_0x302220),fs['unlinkSync'](_0x302220),_0x68335d[_0x1564c1(0xaf)]=_0x5084f1,await _0x68335d[_0x1564c1(0xb1)](_0x337457),_0x337457;}}module[_0xd8d34f(0xb5)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};
