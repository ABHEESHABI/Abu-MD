const Jsl_0x32048a=Jsl_0x5028;(function(_0x1707e8,_0x559b5c){const _0x34712b=Jsl_0x5028,_0x4e9b99=_0x1707e8();while(!![]){try{const _0x9acc7f=parseInt(_0x34712b(0x1f5))/0x1*(-parseInt(_0x34712b(0x1f2))/0x2)+-parseInt(_0x34712b(0x20c))/0x3*(parseInt(_0x34712b(0x1e4))/0x4)+-parseInt(_0x34712b(0x1ff))/0x5*(-parseInt(_0x34712b(0x1fd))/0x6)+parseInt(_0x34712b(0x206))/0x7*(parseInt(_0x34712b(0x1dc))/0x8)+parseInt(_0x34712b(0x1ec))/0x9*(parseInt(_0x34712b(0x1eb))/0xa)+parseInt(_0x34712b(0x1e0))/0xb*(parseInt(_0x34712b(0x1ea))/0xc)+-parseInt(_0x34712b(0x1f6))/0xd;if(_0x9acc7f===_0x559b5c)break;else _0x4e9b99['push'](_0x4e9b99['shift']());}catch(_0x3ae0e8){_0x4e9b99['push'](_0x4e9b99['shift']());}}}(Jsl_0x4645,0xaa96b));function Jsl_0x4645(){const _0x3d3690=['scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512','9896ybDlVA','webp','writeFileSync','81ZVuIzM','24208561oeIASF','data','packname','author','toFormat','toString','node-webpmux','36yDocPj','readFileSync','388735IThYvU','load','from','addOutputOptions','categories','crypto','readUIntLE','3535cagxvg','utf-8','path','mimetype','../temp/','exports','3MsoYhk','Image','writeUIntLE','unlinkSync','concat','error','18232KEhFVf','.mp4','test','-vf','52437GmLoUq','-vcodec','end','exif','3249464khragh','libwebp','save','.webp','stringify','https://AiDarkEzio.github.io','3444cyQlyz','25940ijkzfR','2736ySYuUq','length','join','fluent-ffmpeg','randomBytes'];Jsl_0x4645=function(){return _0x3d3690;};return Jsl_0x4645();}const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(Jsl_0x32048a(0x204)),ff=require(Jsl_0x32048a(0x1ef)),webp=require(Jsl_0x32048a(0x1fc)),path=require(Jsl_0x32048a(0x208));async function imageToWebp(_0x5e47f5){const _0x41c6f1=Jsl_0x32048a,_0x44ae36=path[_0x41c6f1(0x1ee)](__dirname,_0x41c6f1(0x20a)+Crypto[_0x41c6f1(0x1f0)](0x6)['readUIntLE'](0x0,0x6)[_0x41c6f1(0x1fb)](0x24)+_0x41c6f1(0x1e7)),_0x4bbbd8=path[_0x41c6f1(0x1ee)](__dirname,_0x41c6f1(0x20a)+Crypto[_0x41c6f1(0x1f0)](0x6)[_0x41c6f1(0x205)](0x0,0x6)[_0x41c6f1(0x1fb)](0x24)+'.jpg');fs[_0x41c6f1(0x1f4)](_0x4bbbd8,_0x5e47f5),await new Promise((_0x3593cb,_0x4bd5d7)=>{const _0x301274=_0x41c6f1;ff(_0x4bbbd8)['on'](_0x301274(0x1db),_0x4bd5d7)['on'](_0x301274(0x1e2),()=>_0x3593cb(!![]))[_0x301274(0x202)]([_0x301274(0x1e1),_0x301274(0x1e5),_0x301274(0x1df),'scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512'])[_0x301274(0x1fa)](_0x301274(0x1f3))['save'](_0x44ae36);});const _0x3879fa=fs[_0x41c6f1(0x1fe)](_0x44ae36);return fs['unlinkSync'](_0x44ae36),fs[_0x41c6f1(0x1d9)](_0x4bbbd8),_0x3879fa;}async function videoToWebp(_0x5c3056){const _0x634458=Jsl_0x32048a,_0x2e7ded=path[_0x634458(0x1ee)](tmpdir(),Crypto[_0x634458(0x1f0)](0x6)[_0x634458(0x205)](0x0,0x6)['toString'](0x24)+_0x634458(0x1e7)),_0x58271f=path[_0x634458(0x1ee)](tmpdir(),Crypto[_0x634458(0x1f0)](0x6)[_0x634458(0x205)](0x0,0x6)[_0x634458(0x1fb)](0x24)+_0x634458(0x1dd));fs[_0x634458(0x1f4)](_0x58271f,_0x5c3056),await new Promise((_0x207c5a,_0x465e51)=>{const _0x59b462=_0x634458;ff(_0x58271f)['on'](_0x59b462(0x1db),_0x465e51)['on'](_0x59b462(0x1e2),()=>_0x207c5a(!![]))[_0x59b462(0x202)]([_0x59b462(0x1e1),_0x59b462(0x1e5),'-vf',_0x59b462(0x1f1)])[_0x59b462(0x1fa)]('webp')[_0x59b462(0x1e6)](_0x2e7ded);});const _0x4be3cf=fs[_0x634458(0x1fe)](_0x2e7ded);return fs[_0x634458(0x1d9)](_0x2e7ded),fs[_0x634458(0x1d9)](_0x58271f),_0x4be3cf;}function Jsl_0x5028(_0x4d62ce,_0x33b012){const _0x464594=Jsl_0x4645();return Jsl_0x5028=function(_0x50280e,_0x414b26){_0x50280e=_0x50280e-0x1d7;let _0x4251a2=_0x464594[_0x50280e];return _0x4251a2;},Jsl_0x5028(_0x4d62ce,_0x33b012);}async function writeExifImg(_0x5075aa,_0x28f822){const _0x23cd22=Jsl_0x32048a;let _0x2f4b72=await imageToWebp(_0x5075aa);const _0x35cb28=path[_0x23cd22(0x1ee)](tmpdir(),Crypto[_0x23cd22(0x1f0)](0x6)[_0x23cd22(0x205)](0x0,0x6)[_0x23cd22(0x1fb)](0x24)+_0x23cd22(0x1e7)),_0x27dd7e=path[_0x23cd22(0x1ee)](tmpdir(),Crypto[_0x23cd22(0x1f0)](0x6)[_0x23cd22(0x205)](0x0,0x6)[_0x23cd22(0x1fb)](0x24)+'.webp');fs['writeFileSync'](_0x35cb28,_0x2f4b72);if(_0x28f822[_0x23cd22(0x1f8)]||_0x28f822['author']){const _0x4083a2=new webp[(_0x23cd22(0x1d7))](),_0x1d13c6={'sticker-pack-id':_0x23cd22(0x1e9),'sticker-pack-name':_0x28f822[_0x23cd22(0x1f8)],'sticker-pack-publisher':_0x28f822[_0x23cd22(0x1f9)],'emojis':_0x28f822[_0x23cd22(0x203)]?_0x28f822[_0x23cd22(0x203)]:['']},_0x4b500e=Buffer[_0x23cd22(0x201)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x731ed5=Buffer[_0x23cd22(0x201)](JSON['stringify'](_0x1d13c6),_0x23cd22(0x207)),_0x41169e=Buffer[_0x23cd22(0x1da)]([_0x4b500e,_0x731ed5]);return _0x41169e['writeUIntLE'](_0x731ed5[_0x23cd22(0x1ed)],0xe,0x4),await _0x4083a2['load'](_0x35cb28),fs[_0x23cd22(0x1d9)](_0x35cb28),_0x4083a2[_0x23cd22(0x1e3)]=_0x41169e,await _0x4083a2[_0x23cd22(0x1e6)](_0x27dd7e),_0x27dd7e;}}async function writeExifVid(_0x5795a8,_0x28ff0a){const _0x22b095=Jsl_0x32048a;let _0x4c30d2=await videoToWebp(_0x5795a8);const _0x83d3d2=path[_0x22b095(0x1ee)](tmpdir(),Crypto[_0x22b095(0x1f0)](0x6)[_0x22b095(0x205)](0x0,0x6)['toString'](0x24)+'.webp'),_0x538719=path[_0x22b095(0x1ee)](tmpdir(),Crypto['randomBytes'](0x6)[_0x22b095(0x205)](0x0,0x6)[_0x22b095(0x1fb)](0x24)+'.webp');fs[_0x22b095(0x1f4)](_0x83d3d2,_0x4c30d2);if(_0x28ff0a[_0x22b095(0x1f8)]||_0x28ff0a[_0x22b095(0x1f9)]){const _0x5017ec=new webp['Image'](),_0x7df635={'sticker-pack-id':_0x22b095(0x1e9),'sticker-pack-name':_0x28ff0a[_0x22b095(0x1f8)],'sticker-pack-publisher':_0x28ff0a[_0x22b095(0x1f9)],'emojis':_0x28ff0a[_0x22b095(0x203)]?_0x28ff0a[_0x22b095(0x203)]:['']},_0xed1852=Buffer[_0x22b095(0x201)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3ea3b3=Buffer[_0x22b095(0x201)](JSON['stringify'](_0x7df635),_0x22b095(0x207)),_0x2cc699=Buffer[_0x22b095(0x1da)]([_0xed1852,_0x3ea3b3]);return _0x2cc699[_0x22b095(0x1d8)](_0x3ea3b3[_0x22b095(0x1ed)],0xe,0x4),await _0x5017ec[_0x22b095(0x200)](_0x83d3d2),fs[_0x22b095(0x1d9)](_0x83d3d2),_0x5017ec[_0x22b095(0x1e3)]=_0x2cc699,await _0x5017ec[_0x22b095(0x1e6)](_0x538719),_0x538719;}}async function writeExif(_0x1a66e2,_0x22f6d9){const _0x20cd58=Jsl_0x32048a;let _0x846d3=/webp/[_0x20cd58(0x1de)](_0x1a66e2[_0x20cd58(0x209)])?_0x1a66e2[_0x20cd58(0x1f7)]:/image/['test'](_0x1a66e2[_0x20cd58(0x209)])?await imageToWebp(_0x1a66e2[_0x20cd58(0x1f7)]):/video/[_0x20cd58(0x1de)](_0x1a66e2[_0x20cd58(0x209)])?await videoToWebp(_0x1a66e2[_0x20cd58(0x1f7)]):'';const _0x4b10d3=path[_0x20cd58(0x1ee)](tmpdir(),Crypto[_0x20cd58(0x1f0)](0x6)[_0x20cd58(0x205)](0x0,0x6)['toString'](0x24)+_0x20cd58(0x1e7)),_0x1b57b5=path['join'](tmpdir(),Crypto[_0x20cd58(0x1f0)](0x6)['readUIntLE'](0x0,0x6)[_0x20cd58(0x1fb)](0x24)+'.webp');fs[_0x20cd58(0x1f4)](_0x4b10d3,_0x846d3);if(_0x22f6d9[_0x20cd58(0x1f8)]||_0x22f6d9[_0x20cd58(0x1f9)]){const _0x2efc1c=new webp[(_0x20cd58(0x1d7))](),_0x1526be={'sticker-pack-id':'https://AiDarkEzio.github.io','sticker-pack-name':_0x22f6d9['packname'],'sticker-pack-publisher':_0x22f6d9['author'],'emojis':_0x22f6d9[_0x20cd58(0x203)]?_0x22f6d9['categories']:['']},_0x598983=Buffer[_0x20cd58(0x201)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0xe70455=Buffer[_0x20cd58(0x201)](JSON[_0x20cd58(0x1e8)](_0x1526be),'utf-8'),_0x5a9ddf=Buffer[_0x20cd58(0x1da)]([_0x598983,_0xe70455]);return _0x5a9ddf[_0x20cd58(0x1d8)](_0xe70455['length'],0xe,0x4),await _0x2efc1c[_0x20cd58(0x200)](_0x4b10d3),fs['unlinkSync'](_0x4b10d3),_0x2efc1c['exif']=_0x5a9ddf,await _0x2efc1c[_0x20cd58(0x1e6)](_0x1b57b5),_0x1b57b5;}}module[Jsl_0x32048a(0x20b)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};
