const _0x4d3018=_0x1742;(function(_0x293c3e,_0x3459c6){const _0x3ba991=_0x1742,_0x4b94e7=_0x293c3e();while(!![]){try{const _0x323e70=-parseInt(_0x3ba991(0x92))/0x1*(parseInt(_0x3ba991(0x9d))/0x2)+parseInt(_0x3ba991(0x82))/0x3+parseInt(_0x3ba991(0x8d))/0x4*(-parseInt(_0x3ba991(0x96))/0x5)+-parseInt(_0x3ba991(0x8e))/0x6*(parseInt(_0x3ba991(0x6f))/0x7)+parseInt(_0x3ba991(0x8a))/0x8+parseInt(_0x3ba991(0x9f))/0x9+parseInt(_0x3ba991(0x98))/0xa*(-parseInt(_0x3ba991(0x91))/0xb);if(_0x323e70===_0x3459c6)break;else _0x4b94e7['push'](_0x4b94e7['shift']());}catch(_0x209a6f){_0x4b94e7['push'](_0x4b94e7['shift']());}}}(_0x29c1,0xa37bd));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x4d3018(0x83)),ff=require(_0x4d3018(0x86)),webp=require(_0x4d3018(0x9c)),path=require(_0x4d3018(0x7c));async function imageToWebp(_0x544b39){const _0x3bd7c7=_0x4d3018,_0x1adcdb=path[_0x3bd7c7(0x7e)](__dirname,_0x3bd7c7(0x9e)+Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x3bd7c7(0x8c)](0x24)+_0x3bd7c7(0x94)),_0x3f90ab=path[_0x3bd7c7(0x7e)](__dirname,'../temp/'+Crypto[_0x3bd7c7(0x75)](0x6)[_0x3bd7c7(0x79)](0x0,0x6)[_0x3bd7c7(0x8c)](0x24)+_0x3bd7c7(0x81));fs['writeFileSync'](_0x3f90ab,_0x544b39),await new Promise((_0x4abd2e,_0x4f69ee)=>{const _0x14abe5=_0x3bd7c7;ff(_0x3f90ab)['on'](_0x14abe5(0x84),_0x4f69ee)['on'](_0x14abe5(0x97),()=>_0x4abd2e(!![]))[_0x14abe5(0x9a)]([_0x14abe5(0x87),'libwebp',_0x14abe5(0xa0),'scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512'])[_0x14abe5(0x8b)](_0x14abe5(0x95))[_0x14abe5(0x85)](_0x1adcdb);});const _0x34dee7=fs['readFileSync'](_0x1adcdb);return fs[_0x3bd7c7(0x89)](_0x1adcdb),fs[_0x3bd7c7(0x89)](_0x3f90ab),_0x34dee7;}function _0x1742(_0x2535b2,_0x5df71c){const _0x29c177=_0x29c1();return _0x1742=function(_0x174237,_0x2cd01b){_0x174237=_0x174237-0x6e;let _0x289074=_0x29c177[_0x174237];return _0x289074;},_0x1742(_0x2535b2,_0x5df71c);}function _0x29c1(){const _0x4337a0=['save','fluent-ffmpeg','-vcodec','exif','unlinkSync','10182224Uynmok','toFormat','toString','12aqpSfj','3736974kMgfvf','Image','test','85789YEgqfj','66182vQCNAA','author','.webp','webp','1664205UlgVsc','end','110eiTsqn','data','addOutputOptions','load','node-webpmux','4TmxDuf','../temp/','9811233RATYKv','-vf','concat','14yszJsx','from','libwebp','writeFileSync','categories','.mp4','randomBytes','utf-8','stringify','mimetype','readUIntLE','exports','writeUIntLE','path','packname','join','scale=512:512:force_original_aspect_ratio=increase,fps=15,crop=512:512','length','.jpg','2307144FNShKd','crypto','error'];_0x29c1=function(){return _0x4337a0;};return _0x29c1();}async function videoToWebp(_0x2ff4b9){const _0x2b6493=_0x4d3018,_0x3caab3=path[_0x2b6493(0x7e)](tmpdir(),Crypto[_0x2b6493(0x75)](0x6)[_0x2b6493(0x79)](0x0,0x6)[_0x2b6493(0x8c)](0x24)+_0x2b6493(0x94)),_0x96a5d7=path[_0x2b6493(0x7e)](tmpdir(),Crypto[_0x2b6493(0x75)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x2b6493(0x74));fs[_0x2b6493(0x72)](_0x96a5d7,_0x2ff4b9),await new Promise((_0x4d1f4a,_0x361c1f)=>{const _0x3ab002=_0x2b6493;ff(_0x96a5d7)['on'](_0x3ab002(0x84),_0x361c1f)['on'](_0x3ab002(0x97),()=>_0x4d1f4a(!![]))[_0x3ab002(0x9a)]([_0x3ab002(0x87),_0x3ab002(0x71),_0x3ab002(0xa0),_0x3ab002(0x7f)])[_0x3ab002(0x8b)](_0x3ab002(0x95))[_0x3ab002(0x85)](_0x3caab3);});const _0x4e4284=fs['readFileSync'](_0x3caab3);return fs[_0x2b6493(0x89)](_0x3caab3),fs[_0x2b6493(0x89)](_0x96a5d7),_0x4e4284;}async function writeExifImg(_0x2c9aa2,_0x2806d9){const _0x133a7f=_0x4d3018;let _0x39a807=await imageToWebp(_0x2c9aa2);const _0x574343=path[_0x133a7f(0x7e)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x133a7f(0x8c)](0x24)+'.webp'),_0x326fb7=path[_0x133a7f(0x7e)](tmpdir(),Crypto[_0x133a7f(0x75)](0x6)[_0x133a7f(0x79)](0x0,0x6)[_0x133a7f(0x8c)](0x24)+_0x133a7f(0x94));fs['writeFileSync'](_0x574343,_0x39a807);if(_0x2806d9[_0x133a7f(0x7d)]||_0x2806d9['author']){const _0x45f7a0=new webp['Image'](),_0x209091={'sticker-pack-id':'https://AiDarkEzio.github.io','sticker-pack-name':_0x2806d9[_0x133a7f(0x7d)],'sticker-pack-publisher':_0x2806d9[_0x133a7f(0x93)],'emojis':_0x2806d9['categories']?_0x2806d9[_0x133a7f(0x73)]:['']},_0x3fc7bf=Buffer[_0x133a7f(0x70)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x4a90ef=Buffer['from'](JSON['stringify'](_0x209091),_0x133a7f(0x76)),_0x5935e5=Buffer['concat']([_0x3fc7bf,_0x4a90ef]);return _0x5935e5[_0x133a7f(0x7b)](_0x4a90ef[_0x133a7f(0x80)],0xe,0x4),await _0x45f7a0['load'](_0x574343),fs[_0x133a7f(0x89)](_0x574343),_0x45f7a0[_0x133a7f(0x88)]=_0x5935e5,await _0x45f7a0[_0x133a7f(0x85)](_0x326fb7),_0x326fb7;}}async function writeExifVid(_0x28485e,_0x2eb306){const _0x503025=_0x4d3018;let _0x702438=await videoToWebp(_0x28485e);const _0x380f84=path[_0x503025(0x7e)](tmpdir(),Crypto[_0x503025(0x75)](0x6)[_0x503025(0x79)](0x0,0x6)['toString'](0x24)+_0x503025(0x94)),_0x430177=path[_0x503025(0x7e)](tmpdir(),Crypto[_0x503025(0x75)](0x6)[_0x503025(0x79)](0x0,0x6)['toString'](0x24)+_0x503025(0x94));fs[_0x503025(0x72)](_0x380f84,_0x702438);if(_0x2eb306[_0x503025(0x7d)]||_0x2eb306[_0x503025(0x93)]){const _0x553640=new webp['Image'](),_0x259941={'sticker-pack-id':'https://AiDarkEzio.github.io','sticker-pack-name':_0x2eb306['packname'],'sticker-pack-publisher':_0x2eb306[_0x503025(0x93)],'emojis':_0x2eb306[_0x503025(0x73)]?_0x2eb306[_0x503025(0x73)]:['']},_0x3f6c8d=Buffer[_0x503025(0x70)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0xa5073c=Buffer[_0x503025(0x70)](JSON[_0x503025(0x77)](_0x259941),_0x503025(0x76)),_0x4a4f48=Buffer['concat']([_0x3f6c8d,_0xa5073c]);return _0x4a4f48['writeUIntLE'](_0xa5073c[_0x503025(0x80)],0xe,0x4),await _0x553640[_0x503025(0x9b)](_0x380f84),fs[_0x503025(0x89)](_0x380f84),_0x553640[_0x503025(0x88)]=_0x4a4f48,await _0x553640[_0x503025(0x85)](_0x430177),_0x430177;}}async function writeExif(_0x36f18e,_0x3d3d7c){const _0x3f3335=_0x4d3018;let _0x1337ec=/webp/[_0x3f3335(0x90)](_0x36f18e[_0x3f3335(0x78)])?_0x36f18e[_0x3f3335(0x99)]:/image/['test'](_0x36f18e['mimetype'])?await imageToWebp(_0x36f18e[_0x3f3335(0x99)]):/video/[_0x3f3335(0x90)](_0x36f18e['mimetype'])?await videoToWebp(_0x36f18e[_0x3f3335(0x99)]):'';const _0x28af3e=path['join'](tmpdir(),Crypto[_0x3f3335(0x75)](0x6)['readUIntLE'](0x0,0x6)[_0x3f3335(0x8c)](0x24)+_0x3f3335(0x94)),_0x22ee6d=path[_0x3f3335(0x7e)](tmpdir(),Crypto['randomBytes'](0x6)[_0x3f3335(0x79)](0x0,0x6)[_0x3f3335(0x8c)](0x24)+_0x3f3335(0x94));fs[_0x3f3335(0x72)](_0x28af3e,_0x1337ec);if(_0x3d3d7c[_0x3f3335(0x7d)]||_0x3d3d7c[_0x3f3335(0x93)]){const _0x4f95f4=new webp[(_0x3f3335(0x8f))](),_0x587758={'sticker-pack-id':'https://AiDarkEzio.github.io','sticker-pack-name':_0x3d3d7c[_0x3f3335(0x7d)],'sticker-pack-publisher':_0x3d3d7c[_0x3f3335(0x93)],'emojis':_0x3d3d7c['categories']?_0x3d3d7c[_0x3f3335(0x73)]:['']},_0x43f2a4=Buffer[_0x3f3335(0x70)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0xf39f1f=Buffer['from'](JSON['stringify'](_0x587758),'utf-8'),_0x891d20=Buffer[_0x3f3335(0x6e)]([_0x43f2a4,_0xf39f1f]);return _0x891d20[_0x3f3335(0x7b)](_0xf39f1f[_0x3f3335(0x80)],0xe,0x4),await _0x4f95f4['load'](_0x28af3e),fs[_0x3f3335(0x89)](_0x28af3e),_0x4f95f4[_0x3f3335(0x88)]=_0x891d20,await _0x4f95f4[_0x3f3335(0x85)](_0x22ee6d),_0x22ee6d;}}module[_0x4d3018(0x7a)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};
